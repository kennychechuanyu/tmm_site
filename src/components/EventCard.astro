---
interface Props {
  title: string;
  date: Date;
  location: string;
  type: "conference" | "workshop" | "webinar" | "meetup";
  href: string;
  featured?: boolean;
}

const { title, date, location, type, href, featured = false } = Astro.props;

const typeColors: Record<string, string> = {
  conference: "badge-primary",
  workshop: "badge-teal",
  webinar: "badge-purple",
  meetup: "badge-amber",
};

const formatDate = (date: Date) => {
  return date.toLocaleDateString("en-US", {
    weekday: "short",
    month: "short",
    day: "numeric",
    year: "numeric",
  });
};
---

<a
  href={href}
  class:list={[
    "card group flex flex-col",
    featured && "ring-2 ring-navy-500 dark:ring-navy-400",
  ]}
>
  <div class="flex items-start justify-between gap-4">
    <div class="flex flex-wrap items-center gap-2">
      <span class={typeColors[type]}>
        {type.charAt(0).toUpperCase() + type.slice(1)}
      </span>
      {featured && (
        <span class="badge bg-navy-600 text-white dark:bg-navy-500">
          Featured
        </span>
      )}
    </div>
  </div>

  <h3 class="mt-4 text-lg font-semibold text-slate-900 group-hover:text-navy-600 dark:text-white dark:group-hover:text-navy-400 transition-colors">
    {title}
  </h3>

  <div class="mt-auto pt-4">
    <div class="flex flex-col gap-1 text-sm text-slate-600 dark:text-slate-400">
      <div class="flex items-center gap-2">
        <svg class="h-4 w-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
        </svg>
        <span>{formatDate(date)}</span>
      </div>
      <div class="flex items-center gap-2">
        <svg class="h-4 w-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
        </svg>
        <span>{location}</span>
      </div>
    </div>
  </div>
</a>
